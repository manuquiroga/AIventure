 <div *ngIf="onActionsButton" class="payment">
    <app-payment class="payment-card" [actions]="100" [price]="5" (formSubmitted)="onActionsButton = false"></app-payment>
</div>

<body *ngIf="story.length >= 1" class={{backgroundClass}}>
   
    <div class="container">
        <h1>MY STORY</h1>
    <main>
        <p *ngFor="let item of storyString" [ngClass]="item.class">{{ item.text }} <br></p>
    </main>
    <div *ngIf="!isHidden">
        <section class="prompt">
            <div class="custom-input" [class.disabled]="isInputDisabled">
                <input [disabled]="isInputDisabled" name="prompt-textarea" id="prompt-input" required maxlength="100" placeholder="{{placeHolder}}" [(ngModel)]="userChoice" (keyup.enter)="onEnterKeyPressed($event)" [disabled]="isInputDisabled "/>
                <button [disabled]="isInputDisabled" class="submit" (click)="continueStory()">Submit</button>
            </div>
            <div class="buttons-bar">
                <div class="buttons" [class.disabled]="isInputDisabled">
                    <button (click)="getActions()" [class.disabled]="isInputDisabled" >Actions left: {{actions}} </button>
                    <button (click)="actionHandler(1)" [disabled]="isInputDisabled " [class.disabled]="isInputDisabled"> End the story</button>
                    <button (click)="actionHandler(3)" [disabled]="isInputDisabled && storyString.length > 1" [class.disabled]=" isInputDisabled || storyString.length <= 1"> Undo action</button>
                    <button (click)="readText()" [disabled]="isInputDisabled || isReading" [class.disabled]="isInputDisabled || isReading">Read text</button>
                </div>
                <div class="buttons">
                    <button class="back-btn" (click)="quitStory()" [disabled]="isInputDisabled "> Go Back </button>
                </div>
            </div>
        </section>
      </div>
      <div *ngIf="isHidden" class="prompt margin-top">
        <div class="buttons">
            <button (click)="actionHandler(2)"> Download Story </button>
            <button  routerLink="/characters"> Go Back </button>
        </div>
        
        </div>
    </div>
    
</body>

<app-story-load *ngIf="story.length === 0"></app-story-load> 


